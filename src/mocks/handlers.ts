import { rest } from 'msw';

const handler = [
  rest.get('/product', (req, res, ctx) => res(
    ctx.json({
      name: 'vinh',
    }),
  )),
  rest.get('/api/location/search/', (req, res, ctx) => {
    const query = req.url.searchParams.get('Ho+Chi+Minh+City');
    return res(
      ctx.status(200),
      ctx.json({
        query,
      }),
      ctx.json([
        {
          latt_long: '10.759180,106.662498',
          location_type: 'City',
          title: 'Ho Chi Minh City',
          woeid: 1252431,
        },
      ]),
    );
  }),

  rest.get('/api/location/1252431/', (req, res, ctx) => res(
    ctx.status(200),
    ctx.json([
      {
        consolidated_weather: [
          {
            id: 5958324295041024,
            weather_state_name: 'Heavy Rain',
            weather_state_abbr: 'hr',
            wind_direction_compass: 'SE',
            created: '2021-07-12T07:36:46.480369Z',
            applicable_date: '2021-07-12',
            min_temp: 24.885,
            max_temp: 31.68,
            the_temp: 30.810000000000002,
            wind_speed: 5.500580725416898,
            wind_direction: 143.32272719168816,
            air_pressure: 1009.5,
            humidity: 74,
            visibility: 8.59791318698799,
            predictability: 77,
          },
          {
            id: 5483936768589824,
            weather_state_name: 'Heavy Rain',
            weather_state_abbr: 'hr',
            wind_direction_compass: 'SSE',
            created: '2021-07-12T07:36:49.488659Z',
            applicable_date: '2021-07-13',
            min_temp: 24.435,
            max_temp: 32.980000000000004,
            the_temp: 31.515,
            wind_speed: 4.320751470826374,
            wind_direction: 165.68360319680744,
            air_pressure: 1008.5,
            humidity: 70,
            visibility: 9.838480772289827,
            predictability: 77,
          },
          {
            id: 5828226782855168,
            weather_state_name: 'Heavy Rain',
            weather_state_abbr: 'hr',
            wind_direction_compass: 'S',
            created: '2021-07-12T07:36:52.750924Z',
            applicable_date: '2021-07-14',
            min_temp: 24.91,
            max_temp: 32.645,
            the_temp: 30.165,
            wind_speed: 6.088213834258596,
            wind_direction: 180.71077146084966,
            air_pressure: 1008,
            humidity: 76,
            visibility: 9.466900799331901,
            predictability: 77,
          },
          {
            id: 5851405580500992,
            weather_state_name: 'Heavy Rain',
            weather_state_abbr: 'hr',
            wind_direction_compass: 'SSW',
            created: '2021-07-12T07:36:55.450977Z',
            applicable_date: '2021-07-15',
            min_temp: 24.3,
            max_temp: 30.43,
            the_temp: 30.26,
            wind_speed: 6.4006336048993875,
            wind_direction: 205.30089354316883,
            air_pressure: 1009,
            humidity: 74,
            visibility: 12.59457269545852,
            predictability: 77,
          },
          {
            id: 6351556501831680,
            weather_state_name: 'Light Rain',
            weather_state_abbr: 'lr',
            wind_direction_compass: 'SW',
            created: '2021-07-12T07:36:58.465455Z',
            applicable_date: '2021-07-16',
            min_temp: 23.78,
            max_temp: 29.775,
            the_temp: 29.585,
            wind_speed: 6.600373283888757,
            wind_direction: 229.33315913604181,
            air_pressure: 1009.5,
            humidity: 77,
            visibility: 11.189341744213792,
            predictability: 75,
          },
          {
            id: 5715453222584320,
            weather_state_name: 'Heavy Rain',
            weather_state_abbr: 'hr',
            wind_direction_compass: 'W',
            created: '2021-07-12T07:37:01.758906Z',
            applicable_date: '2021-07-17',
            min_temp: 24.03,
            max_temp: 29.755000000000003,
            the_temp: 27.79,
            wind_speed: 5.044252565020281,
            wind_direction: 277.5,
            air_pressure: 1010,
            humidity: 81,
            visibility: 9.540533285612025,
            predictability: 77,
          },
        ],
        time: '2021-07-12T16:45:54.222374+07:00',
        sun_rise: '2021-07-12T05:37:58.134312+07:00',
        sun_set: '2021-07-12T18:20:13.717616+07:00',
        timezone_name: 'LMT',
        parent: {
          title: 'Vietnam',
          location_type: 'Country',
          woeid: 23424984,
          latt_long: '15.974210,107.868042',
        },
        sources: [
          {
            title: 'BBC',
            slug: 'bbc',
            url: 'http://www.bbc.co.uk/weather/',
            crawl_rate: 360,
          },
          {
            title: 'Forecast.io',
            slug: 'forecast-io',
            url: 'http://forecast.io/',
            crawl_rate: 480,
          },
          {
            title: 'Met Office',
            slug: 'met-office',
            url: 'http://www.metoffice.gov.uk/',
            crawl_rate: 180,
          },
          {
            title: 'OpenWeatherMap',
            slug: 'openweathermap',
            url: 'http://openweathermap.org/',
            crawl_rate: 360,
          },
          {
            title: 'World Weather Online',
            slug: 'world-weather-online',
            url: 'http://www.worldweatheronline.com/',
            crawl_rate: 360,
          },
        ],
        title: 'Ho Chi Minh City',
        location_type: 'City',
        woeid: 1252431,
        latt_long: '10.759180,106.662498',
        timezone: 'Asia/Ho_Chi_Minh',
      },
    ]),
  )),
];

export default handler;
